<!DOCTYPE html>
<html class="client-nojs" lang="fr" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>ThÃ¨mes personnalisÃ©s — webtrees</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"ThÃ¨mes_personnalisÃ©s","wgTitle":"ThÃ¨mes personnalisÃ©s","wgCurRevisionId":3977,"wgRevisionId":3977,"wgArticleId":511,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Personnalisation de webtrees"],"wgBreakFrames":false,"wgPageContentLanguage":"fr","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],"wgMonthNamesShort":["","janv.","fév.","mars","avr.","mai","juin","juill.","août","sept.","oct.","nov.","déc."],"wgRelevantPageName":"ThÃ¨mes_personnalisÃ©s","wgRelevantArticleId":511,"wgRequestId":"4328dd3b202cf460b5164f66","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@1dpodri",function($,jQuery,require,module){/*@nomin*/mw.user.options.set({"variant":"fr"});
});mw.loader.implement("user.tokens@1bv63xk",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=fr&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|skins.vector.styles&amp;only=styles&amp;printable=1&amp;skin=vector.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=fr&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.31.3"/>
<meta name="robots" content="noindex,follow"/>
<link rel="shortcut icon" href="../../favicon.ico.html"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="webtrees (fr)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="Flux Atom de webtrees" href="./index.php%3Ftitle=Spécial:Modifications_récentes&amp;feed=atom"/>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/fr/w/skins/Vector/csshover.min.htc")}</style><![endif]-->
<!--[if lt IE 9]><script src="/fr/w/load.php?debug=false&amp;lang=fr&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ThÃ¨mes_personnalisÃ©s rootpage-ThÃ¨mes_personnalisÃ©s skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators mw-body-content">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="fr">ThÃ¨mes personnalisÃ©s</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">De webtrees</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Aller à :					<a href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;printable=yes.html#mw-head">navigation</a>, 					<a href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;printable=yes.html#p-search">rechercher</a>
				</div>
				<div id="mw-content-text" lang="fr" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>Attention, cet article concerne la version 1.7 uniquement&#160;!
</p><p>Un <b>thème</b> est un objet au sens informatique du terme, caractérisé par sa classe et les fonctions qui la composent (<a rel="nofollow" class="external text" href="https://fr.wikipedia.org/wiki/Programmation_orient%C3%A9e_objet#Classe_et_prototype">Wikipédia</a>).
Pour déterminer la liste des thèmes disponibles, <b>webtrees</b> parcourt les sous-dossiers <i>themes/*/</i> dans lesquels il recherche le fichier <i>theme.php</i> contenant la classe. Il suffit ainsi de renommer ce fichier pour faire disparaître temporairement le thème correspondant.
</p><p>La personnalisation consiste à créer un nouveau sous-dossier (disons <i>themes/montheme</i>) qui contient son propre fichier <i>theme.php</i> définissant une nouvelle classe. Cette dernière est dérivée d’une classe existante, par exemple <i>CloudsTheme</i> qu’on ne modifie pas. On ne met dans la nouvelle classe que ce qui change par rapport au modèle. Le nouveau thème étant placé dans son propre sous-dossier, il sera ignoré par les mises à jour ultérieures de <b>webtrees</b>. C’est tout l’intérêt du nouveau système.
</p><p>Le sous-dossier <i>themes/_custom</i> contient un tel exemple.
</p>
<pre>&lt;?php
namespace Fisharebest\Webtrees; /* Ici on fait référence au projet webtrees de Fisharebest 
                                   mais on pourrait utiliser un namespace personnel en cas de modifications profondes */

use Fisharebest\Webtrees\Menu;
use Fisharebest\Webtrees\Theme\CloudsTheme;

/**
 * Puisque le nouveau thème fait référence à Clouds.php,
 * il ira chercher les fichiers de base dans themes/clouds qui doit donc être conservé&#160;!
 * Pour enlever le thème clouds de la liste, il suffit de renommer themes/clouds/theme.php.
 */
class MonTheme extends CloudsTheme {

	/**
	 * Identifiant unique du thème (ce qui apparaît dans l’url). 
	 * Ceux commençant par _ (tiret bas) sont réservés au système.
	 */
	public function themeId() {
		return 'themeperso';
	}

	/**
	 * Nom du thème qui sera montré aux utilisateurs.
	 * Accepte les codes html tels que “Black &amp; white”.
	 *
	 * Utiliser switch($this-&gt;locale) {} pour afficher des versions localisées du nom.
	 */
	public function themeName() {
		return 'Mon th&#232;me';
	}

	/**
	 * La suite...
	 */

} //fin de la classe

return new MonTheme;
</pre>
<p>Chaque élément d’une page est doté d’un <b>style</b> défini dans le fichier <i>themes/theme-modele/css-version/style.css</i> qu'on va pouvoir redéfinir et utiliser selon le principe des feuilles de style en cascade (<a rel="nofollow" class="external text" href="https://fr.wikipedia.org/wiki/Feuilles_de_style_en_cascade#Permettre_la_cascade_des_styles">Wikipédia</a>). 
</p><p>Dans la nouvelle classe, on va pouvoir redéfinir quelques styles seulement&#160;:
</p>
<pre>	/**
	 * Par défaut, la fonction hookHeaderExtraContent() est vide.
	 */
	public function hookHeaderExtraContent() {
		return '&lt;style type="text/css"&gt;'
			. '.header-logo {float: left; width: 200px; height: 30px; }'
			. '.header-logo:after {content: url(' . WT_BASE_URL . 'themes/montheme/mon-logo.png);}'
			. '&lt;/style&gt;'; 
	}
</pre>
<p>On peut aussi créer une nouvelle feuille de style&#160;:
</p>
<pre>	/**
	 * Ajout d’un fichier CSS supplémentaire, le fichier principal style.css restant dans le répertoire themes/clouds&#160;!
	 */
	public function stylesheets() {
		$css_files   = parent::stylesheets();
		/* Mettre un numéro de version dans l’URL évitera que les navigateurs 
		   utilisent une vieille version mise en cache. */
		$css_files[] = WT_BASE_URL . 'themes/montheme/custom.css';
		return $css_files;
	}
</pre> 
<p>À partir de la version 1.7 de <b>webtrees</b>, un bloc d’éléments est défini par une <b>fonction</b> qu’on peut récrire. C’est par exemple le cas du logo auquel on peut ajouter un lien, ou du pied de page qu’on peut compléter. 
</p>
<pre>	/**
	 * Par défaut&#160;: protected function logoHeader() {return '&lt;div class="header-logo"&gt;&lt;/div&gt;';}
	 */
	protected function logoHeader() {
		return '&lt;a href="../index.htm" title="' 
		. I18N::translate('Go to the homepage of the site.') // Noter qu’on appelle désormais I18N et non plus WT_I18N
		.'" class="header-logo"&gt;&lt;/a&gt;';
	}

	/**
	 * Par défaut, la fonction hookFooterExtraJavascript() est vide.
	 */
	public function hookFooterExtraJavascript() {
		return '&lt;div class="mon-style"&gt;' . I18N::translate('Bla bla bla.') . '&lt;/div&gt;';
	}
</pre>
<p>Les fonctions se trouvent pour la plupart dans <i>app/Theme/AbstractTheme.php</i>.
</p>
<!-- 
NewPP limit report
Cached time: 20200520205921
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.013 seconds
Real time usage: 0.015 seconds
Preprocessor visited node count: 17/1000000
Preprocessor generated node count: 112/1000000
Post‐expand include size: 42/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2530/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    1.370      1 -total
 62.04%    0.850      3 Modèle:Wt
-->
</div>
<!-- Saved in parser cache with key wiki-fr_:pcache:idhash:511-0!canonical and timestamp 20200520205921 and revision id 3977
 -->
</div>					<div class="printfooter">
						Récupérée de «&#160;<a dir="ltr" href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;oldid=3977.html">https://wiki.webtrees.net/fr/w/index.php?title=ThÃ¨mes_personnalisÃ©s&amp;oldid=3977</a>&#160;»					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.webtrees.net/fr/Sp%C3%A9cial:Cat%C3%A9gories" title="Spécial:Catégories">Catégorie</a> : <ul><li><a href="../Catégorie:Personnalisation_de_webtrees.html" title="Catégorie:Personnalisation de webtrees">Personnalisation de webtrees</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Menu de navigation</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Outils personnels</h3>
						<ul>
							<li id="pt-login"><a href="./index.php%3Ftitle=Spécial:Connexion&amp;returnto=ThÃ¨mes+personnalisÃ©s&amp;returntoquery=printable=yes.html" title="Nous vous encourageons à vous connecter ; ce n’est cependant pas obligatoire [o]" accesskey="o">Se connecter</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Espaces de noms</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="../ThÃ¨mes_personnalisÃ©s.html"  title="Voir le contenu de la page [c]" accesskey="c">Page</a></span></li>
															<li  id="ca-talk" class="new"><span><a href="https://wiki.webtrees.net/fr/w/index.php?title=Discussion:Th%C3%83%C2%A8mes_personnalis%C3%83%C2%A9s&amp;action=edit&amp;redlink=1"  title="Discussion au sujet de cette page de contenu [t]" accesskey="t" rel="discussion">Discussion</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variantes</span><a href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;printable=yes.html#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Affichages</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="../ThÃ¨mes_personnalisÃ©s.html" >Lire</a></span></li>
															<li id="ca-viewsource"><span><a href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;action=edit.html"  title="Cette page est protégée.&#10;Vous pouvez toutefois en visualiser la source. [e]" accesskey="e">Voir le texte source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;action=history.html"  title="Historique des versions de cette page [h]" accesskey="h">Historique</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>Plus</span><a href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;printable=yes.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Rechercher</label>
						</h3>

						<form action="https://wiki.webtrees.net/fr/w/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Rechercher dans webtrees" title="Rechercher dans webtrees [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Spécial:Recherche" name="title"/><input type="submit" name="fulltext" value="Rechercher" title="Rechercher les pages comportant ce texte." id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Continuer" title="Accédez à une page du même nom si elle existe" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="../../fr:Accueil.html"  title="Visiter la page d’accueil"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-webtrees.net"><a href="http://www.webtrees.net/" rel="nofollow">webtrees.net</a></li><li id="n-Accueil-.28fr.29"><a href="../../fr:Accueil.html" rel="nofollow">Accueil (fr)</a></li><li id="n-Hauptseite-.28de.29"><a href="../../de/Hauptseite.html" rel="nofollow">Hauptseite (de)</a></li><li id="n-Main-Page-.28en.29"><a href="../../favicon.ico.html" rel="nofollow">Main Page (en)</a></li><li id="n-Hoofdpagina-.28nl.29"><a href="../../nl/Hoofdpagina.html" rel="nofollow">Hoofdpagina (nl)</a></li><li id="n-recentchanges"><a href="https://wiki.webtrees.net/fr/Sp%C3%A9cial:Modifications_r%C3%A9centes" title="Liste des modifications récentes sur le wiki [r]" accesskey="r">Modifications récentes</a></li><li id="n-randompage"><a href="../Spécial:Page_au_hasard.html" title="Afficher une page au hasard [x]" accesskey="x">Page au hasard</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="Accès à l’aide">Aide</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Outils</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="https://wiki.webtrees.net/fr/Sp%C3%A9cial:Pages_li%C3%A9es/Th%C3%83%C2%A8mes_personnalis%C3%83%C2%A9s" title="Liste des pages liées qui pointent sur celle-ci [j]" accesskey="j">Pages liées</a></li><li id="t-recentchangeslinked"><a href="https://wiki.webtrees.net/fr/Sp%C3%A9cial:Suivi_des_liens/Th%C3%83%C2%A8mes_personnalis%C3%83%C2%A9s" rel="nofollow" title="Liste des modifications récentes des pages appelées par celle-ci [k]" accesskey="k">Suivi des pages liées</a></li><li id="t-specialpages"><a href="../Spécial:Pages_spéciales.html" title="Liste de toutes les pages spéciales [q]" accesskey="q">Pages spéciales</a></li><li id="t-permalink"><a href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;oldid=3977.html" title="Adresse permanente de cette version de la page">Lien permanent</a></li><li id="t-info"><a href="index.php%3Ftitle=ThÃ¨mes_personnalisÃ©s&amp;action=info.html" title="Plus d’information sur cette page">Information sur la page</a></li>					</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> La dernière modification de cette page a été faite le 14 juillet 2015 à 16:53.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.webtrees.net/fr/Webtrees:Politique_de_confidentialit%C3%A9" title="Webtrees:Politique de confidentialité">Politique de confidentialité</a></li>
											<li id="footer-places-about"><a href="https://wiki.webtrees.net/fr/Webtrees:%C3%80_propos_de" title="Webtrees:À propos de">À propos de webtrees</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.webtrees.net/fr/Webtrees:Avertissements_g%C3%A9n%C3%A9raux" title="Webtrees:Avertissements généraux">Avertissements</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-poweredbyico">
							<a href="https://www.mediawiki.org/"><img src="https://wiki.webtrees.net/fr/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="https://wiki.webtrees.net/fr/w/resources/assets/poweredby_mediawiki_132x47.png 1.5x, https://wiki.webtrees.net/fr/w/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.013","walltime":"0.015","ppvisitednodes":{"value":17,"limit":1000000},"ppgeneratednodes":{"value":112,"limit":1000000},"postexpandincludesize":{"value":42,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":2530,"limit":5000000},"timingprofile":["100.00%    1.370      1 -total"," 62.04%    0.850      3 Modèle:Wt"]},"cachereport":{"timestamp":"20200520205921","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":94});});</script>
	</body>
</html>
