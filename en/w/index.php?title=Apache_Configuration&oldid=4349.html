<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Apache Configuration - webtrees</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Apache_Configuration","wgTitle":"Apache Configuration","wgCurRevisionId":4349,"wgRevisionId":4349,"wgArticleId":497,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Administration Guide"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Apache_Configuration","wgRelevantArticleId":497,"wgRequestId":"438e9584da8d545f993879e4","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@1bv63xk",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|skins.vector.styles&amp;only=styles&amp;skin=vector.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.31.3"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="../../favicon.ico.html"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="webtrees (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="webtrees Atom feed" href="./index.php%3Ftitle=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/en/w/skins/Vector/csshover.min.htc")}</style><![endif]-->
<!--[if lt IE 9]><script src="/en/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Apache_Configuration rootpage-Apache_Configuration skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators mw-body-content">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Apache Configuration</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From webtrees</div>
								<div id="contentSub"><div class="mw-revision"><div id="mw-revision-info">Revision as of 14:20, 16 February 2014 by <a href="https://wiki.webtrees.net/en/w/index.php?title=User:Bogie&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:Bogie (page does not exist)"><bdi>Bogie</bdi></a> <span class="mw-usertoollinks">(<a href="https://wiki.webtrees.net/en/w/index.php?title=User_talk:Bogie&amp;action=edit&amp;redlink=1" class="new mw-usertoollinks-talk" title="User talk:Bogie (page does not exist)">talk</a> | <a href="https://wiki.webtrees.net/en/Special:Contributions/Bogie" class="mw-usertoollinks-contribs" title="Special:Contributions/Bogie">contribs</a>)</span> <span class="comment">(Link to German page added)</span></div><div id="mw-revision-nav">(<a href="https://wiki.webtrees.net/en/w/index.php?title=Apache_Configuration&amp;diff=prev&amp;oldid=4349" title="Apache Configuration">diff</a>) <a href="https://wiki.webtrees.net/en/w/index.php?title=Apache_Configuration&amp;direction=prev&amp;oldid=4349" title="Apache Configuration">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#mw-head">navigation</a>, 					<a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#Apache_module_.27mod_proxy.27_with_webtrees"><span class="tocnumber">1</span> <span class="toctext">Apache module 'mod proxy' with webtrees</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#When_to_use"><span class="tocnumber">1.1</span> <span class="toctext">When to  use</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#tested_in_environment"><span class="tocnumber">1.2</span> <span class="toctext">tested in environment</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#references"><span class="tocnumber">1.3</span> <span class="toctext">references</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#Examples"><span class="tocnumber">1.4</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span id="Apache_module_'mod_proxy'_with_webtrees"></span><span class="mw-headline" id="Apache_module_.27mod_proxy.27_with_webtrees"><br />Apache module 'mod proxy' with webtrees</span></h1>
<h2><span class="mw-headline" id="When_to_use">When to  use</span></h2>
<ul><li>Frontend gateway(reverse proxy) Apache server using a backend (remote) server for your <b>webtrees</b> site(s).</li>
<li>Your <b>webtrees</b> user uses one address (eg. www.example.com/webtrees) to your server, but are really directed to separate (remote) <b>webtrees</b> server (eg. local network 192.168.0.1/webtrees</li>
<li>A reverse proxy (or gateway), by contrast, appears to the client just like an ordinary web server. No special configuration on the client is necessary. The client makes ordinary requests for content in the name-space of the reverse proxy. The reverse proxy then decides where to send those requests, and returns the content as if it was itself the origin.</li></ul>
<p>A typical usage of a reverse proxy is to provide Internet users access to a server that is behind a firewall. Reverse proxies can also be used to balance load among several back-end servers, or to provide caching for a slower back-end server. In addition, reverse proxies can be used simply to bring several servers into the same URL space.
</p>
<h2><span class="mw-headline" id="tested_in_environment">tested in environment</span></h2>
<p>webtrees 1.4.3
Apache 2.2.22
with Apache modules enabled:
mod_proxy
mod_proxy_http
</p>
<h2><span class="mw-headline" id="references">references</span></h2>
<p><a rel="nofollow" class="external free" href="https://httpd.apache.org/docs/2.2/mod/mod_proxy.html">http://httpd.apache.org/docs/2.2/mod/mod_proxy.html</a>
</p>
<h2><span class="mw-headline" id="Examples">Examples</span></h2>
<p>Example, domain www.example.com has DNS address 123.123.123.1.
When request for www.example.com/webtrees1 is received on the gateway server (123.123.123.1), the request is redirected to an internal network server 192.168.0.1
</p><p>If you do not add the line ProxyPreserveHost On
then webtrees will use the internal address 192.168.0.1 =&gt; your WAN (external users using address 123.123.123.1) will fail to receive a response (timeout), because an internal network address 192.168.0.1 is not reachable.
</p><p>You must enable mod_proxy_http, otherwise you will get in your apache error_log the message 'proxy: No protocol handler was valid for the URL /webtrees1. If you are using a DSO version of mod_proxy, make sure the proxy submodules are included in the configuration using LoadModule.'
</p><p>opensuse 12.3
/etc/apache2/conf.d/your_own_conf_file.conf
</p>
<pre>Disable forward proxy requests
</pre>
<p>&lt;IfModule mod_proxy.c&gt;
</p><p>ProxyRequests Off
</p><p>ProxyPreserveHost On
</p><p>ProxyPass  		/webtrees1 <a rel="nofollow" class="external free" href="http://192.168.0.1/webtrees1">http://192.168.0.1/webtrees1</a>
</p><p>ProxyPassReverse 	/webtrees1 <a rel="nofollow" class="external free" href="http://192.168.0.1/webtrees1">http://192.168.0.1/webtrees1</a>
</p><p>ProxyPass		/webtrees2 <a rel="nofollow" class="external free" href="http://192.168.0.2/webtrees_another_name">http://192.168.0.2/webtrees_another_name</a>
</p><p>ProxyPassReverse        /webtrees2 <a rel="nofollow" class="external free" href="http://192.168.0.2/webtrees_another_name">http://192.168.0.2/webtrees_another_name</a>
</p><p>&lt;/IfModule&gt;
</p>
<!-- 
NewPP limit report
Cached time: 20200521032143
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.015 seconds
Real time usage: 0.017 seconds
Preprocessor visited node count: 19/1000000
Preprocessor generated node count: 24/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key wiki-en_:pcache:idhash:497-0!canonical and timestamp 20200521032143 and revision id 4349
 -->
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html">https://wiki.webtrees.net/en/w/index.php?title=Apache_Configuration&amp;oldid=4349</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../Category:Administration_Guide.html" title="Category:Administration Guide">Administration Guide</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.webtrees.net/en/w/index.php?title=Special:UserLogin&amp;returnto=Apache+Configuration&amp;returntoquery=oldid%3D4349" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="../Apache_Configuration.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
															<li  id="ca-talk" class="new"><span><a href="https://wiki.webtrees.net/en/w/index.php?title=Talk:Apache_Configuration&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t" rel="discussion">Discussion</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variants</span><a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="../Apache_Configuration.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="index.php%3Ftitle=Apache_Configuration&amp;action=edit.html"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="index.php%3Ftitle=Apache_Configuration&amp;action=history.html"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.webtrees.net/en/w/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Search webtrees" title="Search webtrees [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="../../favicon.ico.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-webtrees.net"><a href="http://www.webtrees.net/" rel="nofollow">webtrees.net</a></li><li id="n-Main-Page-.28en.29"><a href="../../favicon.ico.html" rel="nofollow">Main Page (en)</a></li><li id="n-Hauptseite-.28de.29"><a href="../../de/Hauptseite.html" rel="nofollow">Hauptseite (de)</a></li><li id="n-Accueil-.28fr.29"><a href="../../fr:Accueil.html" rel="nofollow">Accueil (fr)</a></li><li id="n-Hoofdpagina-.28nl.29"><a href="../../nl/Hoofdpagina.html" rel="nofollow">Hoofdpagina (nl)</a></li><li id="n-recentchanges"><a href="https://wiki.webtrees.net/en/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="../Special:Random.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="https://wiki.webtrees.net/en/Special:WhatLinksHere/Apache_Configuration" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.webtrees.net/en/Special:RecentChangesLinked/Apache_Configuration" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.webtrees.net/en/w/index.php?title=Apache_Configuration&amp;oldid=4349&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="index.php%3Ftitle=Apache_Configuration&amp;oldid=4349.html" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="index.php%3Ftitle=Apache_Configuration&amp;action=info.html" title="More information about this page">Page information</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-lang' aria-labelledby='p-lang-label'>
			<h3 id='p-lang-label'>In other languages</h3>

			<div class="body">
									<ul>
						<li class="interlanguage-link interwiki-de"><a href="../../de/Apache_Konfiguration.html" title="Apache Konfiguration – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target">Deutsch</a></li>					</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last edited on 16 February 2014, at 14:20.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.webtrees.net/en/Webtrees:Privacy_policy" title="Webtrees:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.webtrees.net/en/Webtrees:About" title="Webtrees:About">About webtrees</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.webtrees.net/en/Webtrees:General_disclaimer" title="Webtrees:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-poweredbyico">
							<a href="https://www.mediawiki.org/"><img src="https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_132x47.png 1.5x, https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.015","walltime":"0.017","ppvisitednodes":{"value":19,"limit":1000000},"ppgeneratednodes":{"value":24,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20200521032143","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":90});});</script>
	</body>
</html>
