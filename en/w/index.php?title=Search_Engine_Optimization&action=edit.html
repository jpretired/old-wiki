<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>View source for Search Engine Optimization - webtrees</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Search_Engine_Optimization","wgTitle":"Search Engine Optimization","wgCurRevisionId":4462,"wgRevisionId":0,"wgArticleId":162,"wgIsArticle":false,"wgIsRedirect":false,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":true,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Search_Engine_Optimization","wgRelevantArticleId":162,"wgRequestId":"b6ecc0b9518a023b70764ec3","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@1bv63xk",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.action.edit.collapsibleFooter","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|skins.vector.styles&amp;only=styles&amp;skin=vector.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.31.3"/>
<meta name="robots" content="noindex,nofollow"/>
<link rel="shortcut icon" href="../../favicon.ico.html"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="webtrees (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="webtrees Atom feed" href="./index.php%3Ftitle=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/en/w/skins/Vector/csshover.min.htc")}</style><![endif]-->
<!--[if lt IE 9]><script src="/en/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Search_Engine_Optimization rootpage-Search_Engine_Optimization skin-vector action-edit">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators mw-body-content">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">View source for Search Engine Optimization</h1>
									<div id="bodyContent" class="mw-body-content">
								<div id="contentSub">‚Üê <a href="../Search_Engine_Optimization.html" title="Search Engine Optimization">Search Engine Optimization</a></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="index.php%3Ftitle=Search_Engine_Optimization&amp;action=edit.html#mw-head">navigation</a>, 					<a href="index.php%3Ftitle=Search_Engine_Optimization&amp;action=edit.html#p-search">search</a>
				</div>
				<div id="mw-content-text"><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="https://wiki.webtrees.net/en/w/index.php?title=Webtrees:Users&amp;action=edit&amp;redlink=1" class="new" title="Webtrees:Users (page does not exist)">Users</a>.
</p>
</div>
<hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace" lang="en" dir="ltr" name="wpTextbox1">[[Category:Administration_Guide|41.12]]
Most of us that publish data in '''webtrees''' do so with the hope that other people will find our research and provide additional details.  In order for this to happen, we need search engines to index as many of our pages as possible.

'''webtrees''' 1.1 makes several advances in the area of Search Engine Optimization (SEO), described below.  Note that there are several items which the administrator must take action on.

== Guide: Setting up webtrees for search index optimization ==
{|
|Step 1: Do not require registration
Set your site registration to "no". If you want others to see not all of the data, refer to [[Access_and_Privacy#Family_tree_level_access|Family tree level access]] and other privacy settings.
|[[File:Webtrees-site-privacy-registration.png|thumb|480px|Set site registration to "no" to have public access.]]
|-
|Step 2: Have an updated robots.txt file.
See if it matches https://github.com/fisharebest/webtrees/blob/master/robots-example.txt. Download the contents to robots.txt or rename/copy the included robots-example.txt to robots.txt.
|
|-
|Step 3: Allow Bots to see anything at all.
By default, Bots will be blocked by their user agent string (a kind of browser identifier). You need to go to "Site access rules" and klick the green checkmark next to bots who visited your site, or insert the user agent strings manually as in the picture on the right.
|[[File:Webtrees-site-access-bots.png|thumb|480px]]
|-
|Step 4: Create a sitemap and register it with Google Webmaster Tools.
In Administration, go to sitemaps and click the checkmark next to your family tree. A sitemap URL will be shown, which you need to enter in Google Webmaster Tools.
|[[File:Webtrees-site-sitemap-enable.png|thumb|480px|Sitemap URL Shown in webtrees admin]]
|}



== Content that needs to be indexed ==

The most important content is data direct from our family trees, so these are the primary pages that need to be indexed:
  individual.php, family.php, note.php, source.php, repo.php
(along with index.php)

The corresponding listing pages must also be indexed, as they provide the only comprehensive links to the data pages:
  indilist.php, famlist.php, notelist.php, sourcelist.php, repolist.php

The remaining pages do not need to be indexed.  They provide an endless source of links that distract search engines from the key content and '''webtrees''' 1.1 therefore blocks search engines from indexing them using the techniques listed on this page.


Note: the listing pages (indilist.php, famlist.php, etc) are not a very efficient, in fact one large family tree had over 2000 versions of indilist.php indexed by Google!  If you are able to use the Sitemap module to generate links to your individuals and families, you may want to block indilist.php and famlist.php on your site by modifying your robots.txt file.

== Removing duplicate content ==

=== Canonical urls ===
[http://en.wikipedia.org/wiki/Canonical_meta_tag wikipedia]

Search engines don't like it when the same content is available through different urls. So on the key pages that we want to be indexed '''webtrees''' 1.1 sets a "canonical url" meta tag, like this:
* &lt;link rel="canonical" href="family.php?famid=F6258&amp;ged=xx.ged" />
When a search engine visits any of these urls:
* family.php?famid=F6258
* family.php?famid=F6258&amp;show_full=1
* family.php?famid=F6258&amp;show_full=1&amp;ged=xx.ged
* family.php?famid=F6258&amp;ged=xx.ged
the canonical url meta tag tells it that this is the only version it needs to index:
* family.php?famid=F6258&amp;ged=xx.ged

This effectively removes three pages of duplicate content from the search engine index. Not only does this make the search engines happy (and theoretically more likely to index more pages on your site) it is better for users because they don't have to wade through tons of duplicate results.

No action is needed to take advantage of this.

[http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html More information]
[http://www.google.com/support/webmasters/bin/answer.py?answer=139066 More information]

=== Canonical hostnames ===

As an extension to the above, search engines don't like it when the same content is available on multiple domains (i.e. www.example.com and example.com) 

[http://www.google.com/support/webmasters/bin/answer.py?answer=93633 More information]

==== Action ====
To solve that, go to the Site Configuration screen and set the preferred "Website URL" to force all access to your site through a specific host/domain name.  

Note: if this setting is currently empty, wait until you upgrade to {{wt}} 1.1 before you set it.  Your site is probably being indexed under multiple domains and the changes in version 1.1 ensure those search results are merged rather than lost.

== Tell the search engines what is important ==

Search engines do not spend the resources to index every single url on a domain, but they will index whatever they happen to find until they decide to stop. We can't control when they choose to stop, so we need to give them hints about what we think is important.

There are two ways to go about this:
* Tell them specifically what NOT TO index (using http headers, robots meta tags, and robots.txt)
* Tell them specifically what TO index (using sitemap.xml)

=== http headers ===

On pages blocked by our privacy controls, webtrees now sends the '403 Forbidden' http header. This is the official way to tell search engines they don't have access to the content. It has no effect on how browsers display the content to users.

No action is needed to take advantage of this.

=== robots meta tags ===

On pages that should be indexed, {{wt}} now specifically sets this meta tag:
* &lt;meta name="robots" content="index,follow" />
on pages that shouldn't be indexed {{wt}} sets:
* &lt;meta name="robots" content="noindex,nofollow" />

FYI, there also is an intermediate stage which says "follow the links on the page, but don't actually put this page in your index", that tag is:
* &lt;meta name="robots" content="noindex,follow" />

The benefit of using these meta tags is that they are very fine-grained. i.e. you can tell the search engine it is ok to index family.php for one family but not another.

The downside is that the search engine doesn't know what you want it to ignore until it has already downloaded the page, which is a waste of resources.

[http://www.robotstxt.org/meta.html More information]
[http://www.google.com/support/webmasters/bin/answer.py?answer=93710 More information]

No action is needed to take advantage of this.

=== robots.txt ===

Is similar to the robots meta tags, but it has the opposite strengths and weaknesses.

The benefit of using a robots.txt file is that it prevents a search engine from ever visiting a page.

The downside is that it is all or nothing. i.e. with robots.txt we can only say yes or no to family.php, we can't block it for a specific family.

For the best of both worlds, you need to use both robots.txt and robots meta tags.

[http://www.robotstxt.org/robotstxt.html More information]
[http://www.google.com/support/webmasters/bin/answer.py?answer=156449 More information]

==== Action ====
{{wt}} ships with a file called robots-example.txt.  The administrator needs to move this file to the root of their domain, so it is available here:
* &lt;nowiki>http://www.example.com/robots.txt&lt;/nowiki>
All of the "Disallow" and "Allow" lines need to be modified to reflect the path where {{wt}} is installed.  For instance:
* Disallow: /admin.php
must be changed to something like:
* Disallow: /webtrees/admin.php

There is a [http://webtrees.net/en/add-ons/viewdownload/5/98 Dynamic robots.txt Add On] which automates this for you.

=== sitemap.xml ===

This is a list of all the pages on your site that you want search engines to index. It allows you to prioritize your content (i.e. index individual.php first, then family.php, then source.php, etc). You can also specify the date a specific url was last updated, so search engines don't waste their time looking for updates on pages that haven't changed.

[http://www.sitemaps.org/ More information]
[http://www.google.com/support/webmasters/bin/answer.py?answer=156184 More information]

==== Action ====
{{wt}} includes a Sitemap module that works well for small to medium family trees, but it will probably timeout on larger trees.   


== Content Optimization ==

Once search engines have decided to look at your page, there are things that can be done to help them understand what is important.  We have not evaluated webtrees in this area yet.

== Bad Bots ==

Note that none of this is about controlling bad bots, it is all about trying to get the most important content indexed by the search engines.


[[de:Suchmaschinen-Optimierung]]
[[fr:Optimisation_moteur_de_recherche]]
{{Review|Version=1.4.1}} TODO: The advice on indexing all the list pages is outdated.
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="../Template:Latest_Version.html" title="Template:Latest Version">Template:Latest Version</a> (<a href="./index.php%3Ftitle=Template:Latest_Version&amp;action=edit.html" title="Template:Latest Version">view source</a>) </li><li><a href="../Template:Review.html" title="Template:Review">Template:Review</a> (<a href="./index.php%3Ftitle=Template:Review&amp;action=edit.html" title="Template:Review">view source</a>) </li><li><a href="https://wiki.webtrees.net/en/Template:Wt" title="Template:Wt">Template:Wt</a> (<a href="https://wiki.webtrees.net/en/w/index.php?title=Template:Wt&amp;action=edit" title="Template:Wt">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="../Search_Engine_Optimization.html" title="Search Engine Optimization">Search Engine Optimization</a>.</p>
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="../Search_Engine_Optimization.html">https://wiki.webtrees.net/en/Search_Engine_Optimization</a>"					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="https://wiki.webtrees.net/en/w/index.php?title=Special:UserLogin&amp;returnto=Search+Engine+Optimization&amp;returntoquery=action%3Dedit" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="../Search_Engine_Optimization.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
															<li  id="ca-talk" class="new"><span><a href="https://wiki.webtrees.net/en/w/index.php?title=Talk:Search_Engine_Optimization&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t" rel="discussion">Discussion</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variants</span><a href="index.php%3Ftitle=Search_Engine_Optimization&amp;action=edit.html#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view"><span><a href="../Search_Engine_Optimization.html" >Read</a></span></li>
															<li id="ca-viewsource" class="selected"><span><a href="index.php%3Ftitle=Search_Engine_Optimization&amp;action=edit.html"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="index.php%3Ftitle=Search_Engine_Optimization&amp;action=history.html"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="index.php%3Ftitle=Search_Engine_Optimization&amp;action=edit.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.webtrees.net/en/w/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Search webtrees" title="Search webtrees [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="../../favicon.ico.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-webtrees.net"><a href="http://www.webtrees.net/" rel="nofollow">webtrees.net</a></li><li id="n-Main-Page-.28en.29"><a href="../../favicon.ico.html" rel="nofollow">Main Page (en)</a></li><li id="n-Hauptseite-.28de.29"><a href="../../de/Hauptseite.html" rel="nofollow">Hauptseite (de)</a></li><li id="n-Accueil-.28fr.29"><a href="../../fr:Accueil.html" rel="nofollow">Accueil (fr)</a></li><li id="n-Hoofdpagina-.28nl.29"><a href="../../nl/Hoofdpagina.html" rel="nofollow">Hoofdpagina (nl)</a></li><li id="n-recentchanges"><a href="https://wiki.webtrees.net/en/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="../Special:Random.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="https://wiki.webtrees.net/en/Special:WhatLinksHere/Search_Engine_Optimization" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.webtrees.net/en/Special:RecentChangesLinked/Search_Engine_Optimization" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-info"><a href="index.php%3Ftitle=Search_Engine_Optimization&amp;action=info.html" title="More information about this page">Page information</a></li>					</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.webtrees.net/en/Webtrees:Privacy_policy" title="Webtrees:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.webtrees.net/en/Webtrees:About" title="Webtrees:About">About webtrees</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.webtrees.net/en/Webtrees:General_disclaimer" title="Webtrees:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-poweredbyico">
							<a href="https://www.mediawiki.org/"><img src="https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_132x47.png 1.5x, https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":81});});</script>
	</body>
</html>
