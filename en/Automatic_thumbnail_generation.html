<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Automatic thumbnail generation - webtrees</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Automatic_thumbnail_generation","wgTitle":"Automatic thumbnail generation","wgCurRevisionId":4344,"wgRevisionId":4344,"wgArticleId":411,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Using webtrees","Needs Review"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Automatic_thumbnail_generation","wgRelevantArticleId":411,"wgRequestId":"01440fd0ac043c379bec5d6b","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.tokens@1bv63xk",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="w/load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|mediawiki.skinning.interface|skins.vector.styles&amp;only=styles&amp;skin=vector.css"/>
<script async="" src="w/load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.31.3"/>
<link rel="shortcut icon" href="../favicon.ico.html"/>
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="webtrees (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="w/api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="webtrees Atom feed" href="w/index.php%3Ftitle=Special:RecentChanges&amp;feed=atom"/>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/en/w/skins/Vector/csshover.min.htc")}</style><![endif]-->
<!--[if lt IE 9]><script src="/en/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Automatic_thumbnail_generation rootpage-Automatic_thumbnail_generation skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators mw-body-content">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Automatic thumbnail generation</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From webtrees</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="Automatic_thumbnail_generation.html#mw-head">navigation</a>, 					<a href="Automatic_thumbnail_generation.html#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p><br />
Many people have experienced problems when uploading media objects, resulting in an error message like:
</p><p><i>Thumbnail 'media/thumbs/wont_upload.jpg' could not be generated automatically.</i>
</p><p>As said in the <a href="https://wiki.webtrees.net/en/w/index.php?title=FAQ&amp;action=edit&amp;redlink=1" class="new" title="FAQ (page does not exist)">FAQ</a> that this is almost always due to excessively large images, or not enough PHP memory. Then users have commented that sometimes one file, say 850KB in size WILL upload, but another, slightly smaller (say 700KB) will not. Here I would like to explain why this happens.
</p><p><b>The reason for the confusion is that the size of the file that matters is that of the file BEFORE it was compressed (usually as a jpeg formatted image), NOT the size of the file as stored.</b> This is because, in order to be able to create a reasonable quality thumbnail copy PHP first needs to uncompress the uploaded image to its original size, storing that full sized file in internal server memory, before it can then reduce it to the much smaller thumbnail size.
</p><p>Because images can be compressed to greater or lesser degrees, an image stored as 700KB can easily be <b>larger</b> than one stored as 850KB. Most scanners and digital cameras automatically compress files when they create them, so "compressing" does not mean you or your relatives need to have done anything unusual.
</p><p>If you are having problems, then this is how you can approximately calculate the REAL size of your images:
</p><p>First identify the pixel dimensions of the image. That can be done in many ways, and is (or can) often be displayed in a file system on your PC, such as this from a Windows 7 system:
</p><p><br />
<a href="./File:Dim.jpg.html" class="image"><img alt="Dim.jpg" src="../w/images-en/Dim.jpg" width="755" height="124" class="thumbborder" /></a>
</p><p>Note that the dimensions of the larger (875 KB) file are actually far less than the smaller (718KB) file, indicating very different levels of compression.
</p><p>Next calculate the total pixels (px) per file:
</p><p><i>will_upload.jpg = 863 x 1176 = 1,014,888 px</i>
</p><p><i>wont_upload.jpg = 3436 x 2410 = 8,280,760 px</i>
</p><p><br />
To convert these to file sizes you neeed to know the "pixel depth" or number of colours used when this image was created. This is usually stored with the image information, and will need some form of image editing software to show it. In these examples, both are "RGB" (256 colours) or 8 bits per channel. The table below gives some alternative types. The depth (8 in this case) divided by 8 will give the number of "bytes" per pixel:
</p><p>8 / 8 = 1 byte per pixel
</p><p>(24 / 8 = 3 bytes per pixel, etc)
</p><p><br />
Therefore, for these images:
</p><p><i>will_upload.jpg = 1,014,888 x 1 = 1,014,888 bytes</i>
</p><p><i>wont_upload.jpg = 8,280,760 x 1 = 8,280,760 bytes</i>
</p><p><br />
There are 1,024 bytes in a KB, so the true ORIGINAL size of each image was:
</p><p><i>will_upload.jpg = 1,014,888 / 1,024 = <b>991 KB</b> (just less than 1 MB)</i>
</p><p><i>wont_upload.jpg = 8,280,760 / 1,024 = <b>8,087 KB</b> (just over 8 MB)</i>
</p><p><br />
Hopefully now it is clear why the "larger" image uploaded successfully, whilst the "smaller" did not. The smaller file was actually 8 X larger&#160;!
</p><p><br />
Here is a table of some common image sizes and their equivalent uncompressed file sizes for different types:
</p><p><br />
<a href="./File:Table.jpg.html" class="image"><img alt="Table.jpg" src="../w/images-en/Table.jpg" width="556" height="147" class="thumbborder" /></a>
</p><p><br />
When you are considering uploading files to webtrees it is worth thinking about all of the following points:
</p>
<ul><li>webtrees is a family history program, NOT a photo gallery. It does not need archival quality images, and will not work well if they are used.</li>
<li>Not all your users will have ultra-high speed internet connections. So displaying a huge archival quality image could delay a page from displaying for several minutes in some cases.</li>
<li>Reduce the resolution of images to around 72 px/inch. This is generally adequate for website display.</li>
<li>Keep image dimension within what is reasonable for most computer screens. Something no wider than 1200 px is probably as big as you need.</li>
<li>Convert images to black and white (1 bit) where that is appropriate. Many old documents were produced only in black and white, so high definition colour is pointless.</li>
<li>Use image software to crop images to only use the parts you need. It makes the picture look better, as well as reducing its storage requirements.</li></ul>
<div style="color:#f00;">This page has not been reviewed since webtrees 1.4.3.  It may be out of date.</div>

<!-- 
NewPP limit report
Cached time: 20200520212815
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.056 seconds
Real time usage: 0.083 seconds
Preprocessor visited node count: 13/1000000
Preprocessor generated node count: 74/1000000
Post‐expand include size: 273/2097152 bytes
Template argument size: 10/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    4.341      1 -total
100.00%    4.341      1 Template:Review
 44.09%    1.914      1 Template:Latest_Version
-->
</div>
<!-- Saved in parser cache with key wiki-en_:pcache:idhash:411-0!canonical and timestamp 20200520212815 and revision id 4344
 -->
</div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="w/index.php%3Ftitle=Automatic_thumbnail_generation&amp;oldid=4344.html">https://wiki.webtrees.net/en/w/index.php?title=Automatic_thumbnail_generation&amp;oldid=4344</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="./Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="./Category:Using_webtrees.html" title="Category:Using webtrees">Using webtrees</a></li><li><a href="./Category:Needs_Review.html" title="Category:Needs Review">Needs Review</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-login"><a href="w/index.php%3Ftitle=Special:UserLogin&amp;returnto=Automatic+thumbnail+generation.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="Automatic_thumbnail_generation.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
															<li  id="ca-talk" class="new"><span><a href="https://wiki.webtrees.net/en/w/index.php?title=Talk:Automatic_thumbnail_generation&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t" rel="discussion">Discussion</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variants</span><a href="Automatic_thumbnail_generation.html#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="Automatic_thumbnail_generation.html" >Read</a></span></li>
															<li id="ca-viewsource"><span><a href="w/index.php%3Ftitle=Automatic_thumbnail_generation&amp;action=edit.html"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="w/index.php%3Ftitle=Automatic_thumbnail_generation&amp;action=history.html"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="Automatic_thumbnail_generation.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="https://wiki.webtrees.net/en/w/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Search webtrees" title="Search webtrees [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="../favicon.ico.html"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-webtrees.net"><a href="http://www.webtrees.net/" rel="nofollow">webtrees.net</a></li><li id="n-Main-Page-.28en.29"><a href="../favicon.ico.html" rel="nofollow">Main Page (en)</a></li><li id="n-Hauptseite-.28de.29"><a href="../de/Hauptseite.html" rel="nofollow">Hauptseite (de)</a></li><li id="n-Accueil-.28fr.29"><a href="../fr:Accueil.html" rel="nofollow">Accueil (fr)</a></li><li id="n-Hoofdpagina-.28nl.29"><a href="../nl/Hoofdpagina.html" rel="nofollow">Hoofdpagina (nl)</a></li><li id="n-recentchanges"><a href="https://wiki.webtrees.net/en/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="./Special:Random.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="https://wiki.webtrees.net/en/Special:WhatLinksHere/Automatic_thumbnail_generation" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.webtrees.net/en/Special:RecentChangesLinked/Automatic_thumbnail_generation" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="./Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="w/index.php%3Ftitle=Automatic_thumbnail_generation&amp;printable=yes.html" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="w/index.php%3Ftitle=Automatic_thumbnail_generation&amp;oldid=4344.html" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="w/index.php%3Ftitle=Automatic_thumbnail_generation&amp;action=info.html" title="More information about this page">Page information</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-lang' aria-labelledby='p-lang-label'>
			<h3 id='p-lang-label'>In other languages</h3>

			<div class="body">
									<ul>
						<li class="interlanguage-link interwiki-de"><a href="../de/Erzeugung_von_Miniaturbildern.html" title="Erzeugung von Miniaturbildern – Deutsch" lang="de" hreflang="de" class="interlanguage-link-target">Deutsch</a></li>					</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last edited on 15 February 2014, at 20:01.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wiki.webtrees.net/en/Webtrees:Privacy_policy" title="Webtrees:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="https://wiki.webtrees.net/en/Webtrees:About" title="Webtrees:About">About webtrees</a></li>
											<li id="footer-places-disclaimer"><a href="https://wiki.webtrees.net/en/Webtrees:General_disclaimer" title="Webtrees:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-poweredbyico">
							<a href="https://www.mediawiki.org/"><img src="https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_132x47.png 1.5x, https://wiki.webtrees.net/en/w/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.056","walltime":"0.083","ppvisitednodes":{"value":13,"limit":1000000},"ppgeneratednodes":{"value":74,"limit":1000000},"postexpandincludesize":{"value":273,"limit":2097152},"templateargumentsize":{"value":10,"limit":2097152},"expansiondepth":{"value":3,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    4.341      1 -total","100.00%    4.341      1 Template:Review"," 44.09%    1.914      1 Template:Latest_Version"]},"cachereport":{"timestamp":"20200520212815","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":89});});</script>
	</body>
</html>
